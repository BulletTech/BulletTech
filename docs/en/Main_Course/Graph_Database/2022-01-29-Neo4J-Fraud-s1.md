---
template: overrides/blogs.html
tags:
  - knowledge graph
---

# Neo4J图数据库反欺诈分析实战（一） - 搭建分析环境

!!! info
    Author:：[Vincent](https://github.com/Realvincentyuan)，Posted on 2022-01-29，Reading time: 6 mins，WeChat Post Link:：[:fontawesome-solid-link:](https://mp.weixin.qq.com/s?__biz=MzI4Mjk3NzgxOQ==&mid=2247485213&idx=1&sn=ed9051c887847bcf35ef6e21af6005f4&chksm=eb90f469dce77d7fa1325810d537e183c65eef7067f20219eee02d6f3667d14554832103986d&token=771475859&lang=zh_CN#rd)

## 1 Introduction


exist
[First recognition database] (https://mp.weixin.qq.com/s ?__biz=mzi4mjk3nzgxoq=&mid=2247485112&IDX=1&SN4FD472A3D58378A2F&CHKKKKSM=EB90909090 F5CCDCE77CDA0285D53331834A787364D4458A3588173C9EF695349362BD64F7C918 & Token = 1650861834 & LANG = zh_cn#RD)
In this article, we introduce the basic constituent elements of the picture, such as nodes, attributes, relationships, etc. At the same time, it also briefly describes the advantages of the diagram database compared to the traditional relationship database. From this article, it will be anti -fraud, and will be used as anti -fraud.As an example, as an actual combat exercise of the diagram database, the application of the real picture database in actual work!


In the fraud scene, bad people usually obtain the identity information of real customers through channels such as fishing, virus software, and dark networks. After obtaining this information, they can take over the verification information to take over the account or directly use this information for fraud transactions.In addition, bad people usually have a certain amount of equipment, ID cards, mailboxes, telephones and other information to cope with the verification of service providers. Therefore, the accounts that are taken over to have a certain connection with the information of these bad people.Use the Database Database to dig its potential association behind it, and this article will introduce the basic knowledge of analyzing the environment and the diagram database query.


## 2 NEO4J Figure Database


NEO4J is a diagram database solution provider. Its official website provides a series of tutorials and research environment for readers to learn.Use it in actual combat
[Sandbox](https://sandbox.neo4j.com/ 'Neo4J Sandbox')
Example data and computing resources provide researchers with free instance for experimental use.


<figure>
  <img src="https://cdn.jsdelivr.net/gh/BulletTech2021/Pics/img/1_V/Neo4J_Sandbox.png"  />

<figcaption>Neo4J Sandbox</figcaption>
</figure>


Click for free, create a database, find the `Fraud Detection` to start exploring (please remember the password)!


## 3 cypher query language


Just like SQL (Structudured Query Language) for querying the relationship database, the Neo4J diagram database also has its own query language -CyPher.In cypher, parentheses () are used to query nodes, such as `(P: Person)`, where `p` is a variable, and` person` is the type of this node.


The query relationship should use square brackets, such as `[w: works_For]`, where `w` is a variable, and` Works_For` is the type of relationship. Combining the two can query the diagram of the condition, such as querying oneActor in the movie:


```sql
MATCH (p:Person)-[relatedTo]-(m:Movie {title: "Cloud Atlas"})
RETURN p, m, relatedTo
```


Among them, `match` defines the matching rules, and` Return` defines the returned content.The attribute is defined using the parentheses {}. If the person who needs to appear in the movie with Tom Hanks, you can use the following query statements:


```sql
MATCH (tom:Person {name: 'Tom Hanks'})-[a:ACTED_IN]->(m:Movie)<-[rel:ACTED_IN]-(p:Person)
return p, a, rel, m, tom
```


Cypher does not need a table connection, so its query statements are as smooth as natural language.Neo4j provides complete
[Cypher operation manual] (https://neo4j.com/docs/cypher-manual/4.2/ 'cypher operation manual')))
It is also a good reference.




## 4 Use Figure Database




<figure>
  <img src="https://cdn.jsdelivr.net/gh/BulletTech2021/Pics/img/1_V/Fraud操作界面.png"  />

<figcaption> neo4j operation interface </figcaption>
</figure>




After understanding the above basic content, you can officially enter the Database database.Click the `Fraud Detection` Database, and open it in the browser to see the operating interface.There is a database information in the sidebar, and the main interface on the right is to establish a query area.Anti -fraud can officially start!
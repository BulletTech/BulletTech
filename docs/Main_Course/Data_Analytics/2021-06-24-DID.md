---
template: overrides/blogs.html
---

# 微信小程序爬虫

!!! info 
    作者：Void，发布于2021年6月21日，阅读时间：约10分钟，微信公众号文章链接：[:fontawesome-solid-link:](https://mp.weixin.qq.com/s/PBHXRCzPUKyRLYSOkkZmLw)

引言
====

### 线性回归假设

$$ Y=\beta X+\varepsilon $$

-   线性关系

-   严外生性
    $$E(\varepsilon_{t}|X)=E(\varepsilon_{t}|X_{1},X_{2}\cdots X_{n})=0$$

-   无完全共线性

-   球形误差方差 
$$E(\varepsilon_{t}^{2}|X)=\sigma^{2}$$
$$E(\varepsilon_{t}\varepsilon_{s}|X)=0$$

### 严外生性

$$E(\varepsilon_{t}|X)=E(\varepsilon_{t}|X_{1},X_{2}\cdots X_{n})=0$$
$$t=1,2\cdots n$$ 根据重复期望法则$E(Y|X)=E[E(Y|X,Z)|X]$，有
$$E(\varepsilon_{t}|X_{t})=E[E(\varepsilon_{t}|X)|X_{t}]=0$$
$$E(\varepsilon_{t})=E[E(\varepsilon_{t}|X)]=0$$
从而有
$$E(X_{s}\varepsilon_{t})=E[E(X_{s}\varepsilon_{t}|X)]=0$$
因此 $ cov(X_{s},\varepsilon_{t})=0$ ，假设要求扰动项 $ \varepsilon_{t} $ 与解释变量之间没有线性相关性。

### 内生性问题常见形式

-   遗漏解释变量

-   X与Y互为因果(反向因果,如教育水平影响收入)

### 解决方案

-   工具变量法(Instrumental Variable)\
    找到一个变量和内生解释变量相关，但是和随机扰动项不相关的外生变量。同其他已有的外生变量一起回归，得到内生变量的估计值，以此作为IV，放到原来的回归方程中进行回归。
    例子，Y为内战爆发概率，X为经济增长，IV为降雨量。

-   双重差分法(Differences-in-Differences, DID)\
    倘若出现了一次外部冲击，这次冲击影响了一部分样本，对另一部分样本则无影响，而我们想看一下这次外部冲击到底有何影响，双重差分法就是用来研究这次冲击的净效应的。
    由于冲击相对于研究样本而言一般是外生的，因而不存在反向因果问题

### 双重差分模型

$$Y_{it}=\beta_{0}+\beta_{1}D+\beta_{2}T+\beta_{3}(D\times T)+\varepsilon_{it}$$
D为分组虚拟变量，若受冲击的影响，则个体i属于实验组，$D=1$，反之个体i属于对照组，$D=0$。T为时间的虚拟变量，冲击之前$T=0$，冲击之后$T=1$。$D\times T$为分组虚拟变量与时间虚拟变量的交互项，其系数$\beta_{3}$反映了冲击的净效应。


### Takeaways

-   关注模型假设

-   基于因果推断的机器学习


